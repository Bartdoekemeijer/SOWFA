/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  2.0.x                                 |
|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/

FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      turbineProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

globalProperties
{
    outputControl       "timeStep";
//  outputControl       "runTime";
    outputInterval       1;
}

        superInfoToSSC[i*nInputsToSSC+0] = powerGenerator[i]; // Generator power [W]
        superInfoToSSC[i*nInputsToSSC+1] = rotSpeedF[i];      // Filtered rotor speed [rad/s]
        superInfoToSSC[i*nInputsToSSC+2] = azimuth[i]/degRad; // Azimuth angle [deg]
        superInfoToSSC[i*nInputsToSSC+3] = thrust[i];         // Turbine thrust force [N]
        superInfoToSSC[i*nInputsToSSC+4] = torqueRotor[i];    // Rotor torque [Nm]
        superInfoToSSC[i*nInputsToSSC+5] = torqueGen[i];      // Generator torque [Nm]
        superInfoToSSC[i*nInputsToSSC+6] = nacYaw[i]/degRad;  // Nacelle yaw [deg]
        superInfoToSSC[i*nInputsToSSC+7] = pitch[i];          // Pitch angle [deg]
        
// _SSC_
sscProperties
{
    sscEnabled          true; //Enable or disable SSC. If sscProperties{} not present, defaults to 'false'
    nInputsToSSC        8; // Measurements: [genPower,rotSpeedF,azimuth,rotThrust,rotTorque,genTorque,nacYaw,bladePitch]
    nOutputsFromSSC     3; // Control variables: [genTorque, nacYaw, bladePitch]
    sscControllerType   "timeTableSSC"; // The type of SSC
    sscMeasurementsFunction "default"; // Measurements function
}

turbine0
{
    turbineType         "NREL5MWRef";
    baseLocation        (500.0  500.0 0.0);
    nRadial              64;
    azimuthMaxDis        2.0;
    nAvgSector           1;
    pointDistType       "uniform";
    pointInterpType     "linear";
    bladeUpdateType     "oldPosition";
    epsilon              20.0;
    forceScalar          1.0;
    inflowVelocityScalar 0.94;
    tipRootLossCorrType "Glauert";
    rotationDir         "cw";
    Azimuth              0.0;
    RotSpeed             9.15519863;
    TorqueGen            0.0;
    Pitch                0.0;
    NacYaw             270.0;
    fluidDensity         1.225;
}

turbine1
{
    turbineType         "NREL5MWRef";
    baseLocation        (1000.0 500.0 0.0);
    nRadial              64;
    azimuthMaxDis        2.0;
    nAvgSector           1;
    pointDistType       "uniform";
    pointInterpType     "linear";
    bladeUpdateType     "oldPosition";
    epsilon              20.0;
    forceScalar          1.0;
    inflowVelocityScalar 0.94;
    tipRootLossCorrType "Glauert";
    rotationDir         "cw";
    Azimuth              0.0;
    RotSpeed             9.15519863;
    TorqueGen            0.0;
    Pitch                0.0;
    NacYaw             270.0;
    fluidDensity         1.225;
}
